<!DOCTYPE html>
<html lang="en">
<head>
  <!-- =========================================================
       Empire Dashboard • Preview‑Only Build (FULL)
       v3.0.2  |  Complete, self‑contained, preview‑safe code
       ---------------------------------------------------------
       • Inline demo data (edit BRANDS and PIPELINES below)
       • ES5‑only JS (safe in any sandbox)
       • Works inside ChatGPT canvas, file://, GitHub preview
       • Features:
         – Overview cards + empire totals
         – Per‑brand view with full pipeline
         – Drag‑and‑drop (SortableJS) with live column counts
         – “Add Content” (editorial) / “Add Event” (events w/ date)
  ========================================================= -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Empire Dashboard — Preview</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js"></script>
  <style>
    :root{--bg:#fff;--bg-mute:#f6f7fb;--border:#e3e5ee;--text:#1a1a1a;--text-m:#6e6e82;--accent:#8245ff;--shadow:0 2px 6px rgba(0,0,0,.06);}    *{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
    body{background:var(--bg);color:var(--text);line-height:1.55;padding-bottom:4rem;}
    h1{font-family:'Playfair Display',serif;font-size:1.9rem;margin:1.4rem 0 1rem;}
    h2{font-family:'Playfair Display',serif;font-size:1.4rem;margin:1rem 0 .4rem;}
    .wrap{max-width:1280px;margin:auto;padding:0 1.4rem;}
    /* nav */
    .nav{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.6rem;}
    .nav-btn{padding:.45rem .9rem;border:1px solid var(--border);border-radius:7px;font-size:.84rem;font-weight:600;background:var(--bg-mute);cursor:pointer;transition:.2s;}
    .nav-btn.active,.nav-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent);}    
    /* totals */
    .totals{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:2.1rem;}
    .tot{flex:1 1 160px;background:var(--bg-mute);border:1px solid var(--border);border-radius:10px;text-align:center;padding:1rem;box-shadow:var(--shadow);}
    .tot-val{font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--accent);font-weight:700;}
    .tot-lbl{font-size:.7rem;color:var(--text-m);text-transform:uppercase;letter-spacing:.4px;}
    /* overview */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.4rem;}
    .card{background:var(--bg);border:1px solid var(--border);border-radius:14px;padding:1.1rem;box-shadow:var(--shadow);cursor:pointer;transition:transform .25s,box-shadow .25s;}
    .card:hover{transform:translateY(-4px);}    
    .badge{display:inline-block;padding:.15rem .55rem;border-radius:999px;font-size:.66rem;font-weight:600;color:#fff;text-transform:lowercase;}
    .badge.active{background:#4ade80;}.badge.launching{background:#f97316;}.badge.planning{background:#60a5fa;}
    .brand{font-family:'Playfair Display',serif;font-size:1.23rem;margin:.2rem 0 .4rem;}
    .desc{font-size:.82rem;color:var(--text-m);margin-bottom:1rem;}
    .metrics{display:flex;gap:.6rem;flex-wrap:wrap;}
    .mbox{flex:1 1 90px;background:var(--bg-mute);border:1px solid var(--border);border-radius:8px;padding:.6rem;text-align:center;}
    .mval{font-weight:700;color:var(--accent);} .mlbl{font-size:.68rem;color:var(--text-m);text-transform:uppercase;}
    /* view */
    .view{display:none;} .view.active{display:block;}
    .p-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;}
    .pipeline{display:flex;gap:1rem;overflow-x:auto;margin-bottom:2rem;}
    .col{min-width:220px;background:var(--bg-mute);border:1px solid var(--border);border-radius:9px;padding:1rem;flex:1 0 220px;display:flex;flex-direction:column;}
    .c-head{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:.88rem;margin-bottom:.65rem;}
    .c-count{background:var(--accent);color:#fff;font-size:.65rem;border-radius:6px;padding:.15rem .45rem;}
    .list{flex:1 1 auto;}
    .item{background:var(--bg);border:1px solid var(--border);border-radius:7px;padding:.45rem;font-size:.8rem;margin-bottom:.5rem;cursor:grab;display:flex;justify-content:space-between;align-items:center;}
    .item-date{font-size:.68rem;color:var(--text-m);margin-left:.4rem;}
    .add{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:.4rem .8rem;font-size:.78rem;font-weight:600;cursor:pointer;}
    /* brand metrics grid */
    .brand-metrics{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1.5rem;}
    .brand-mbox{flex:1 1 140px;background:var(--bg-mute);border:1px solid var(--border);border-radius:10px;text-align:center;padding:.7rem;box-shadow:var(--shadow);}
    .brand-mval{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--accent);font-weight:700;}
    .brand-mlabel{font-size:.7rem;color:var(--text-m);text-transform:uppercase;letter-spacing:.4px;}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Empire Dashboard</h1>
    <div id="nav" class="nav"></div>
    <div id="totals" class="totals"></div>
    <div id="overview" class="grid"></div>
    <div id="views"></div>
  </div>
<script>(function(){'use strict';
// ---------- helpers ----------
function el(tag,cls,txt){var e=document.createElement(tag);if(cls){e.className=cls;}if(txt!==undefined){e.textContent=txt;}return e;}
function qs(sel,scope){return (scope||document).querySelector(sel);} // quick selector
function fmt(n){if(typeof n==='string'){return n;}return (n>=1e6?Math.round(n/1e5)/10+'M':n>=1e3?Math.round(n/1e2)/10+'K':n);} // short format
function todayISO(){return new Date().toISOString().slice(0,10);} // yyyy‑mm‑dd
// ---------- demo data ----------
var BRANDS=[
  {id:'knf',name:'KNF',desc:'Personal brand & cultural criticism',status:'active',accent:'#e63cff',reach:125000,revenue:15000,engage:4.5},
  {id:'fh',name:'For Harriet',desc:'Black feminist publication',status:'active',accent:'#652399',reach:250000,revenue:22000,engage:5.1},
  {id:'mtih',name:'Making Things is Hard',desc:'Tech & business for creatives',status:'active',accent:'#006aff',reach:45000,revenue:8000,engage:6.2},
  {id:'sss',name:'The Shallow Side',desc:'Fashion & beauty commentary',status:'launching',accent:'#ff5880',reach:500,revenue:0,engage:0},
  {id:'tok',name:'Taste of Kimberly',desc:'Personal style newsletter',status:'planning',accent:'#9e2fff',reach:0,revenue:0,engage:0},
  {id:'bwitw',name:'Black Women in the Wild',desc:'Community events & connections',status:'active',accent:'#ffb600',events:6,community:250},
  {id:'indigo',name:'Indigo Hour',desc:'Intellectual salon series',status:'planning',accent:'#532dff',events:0,community:0}
];
var PIPELINES={
  knf:{ideas:['Award season analysis','TikTok trends','Celebrity interviews'],inProgress:['Video: Nostalgia','Article: Fashion Politics'],ready:['Instagram posts','Tweet threads'],published:['Video: Representation','Newsletter: March']},
  fh:{ideas:['Feature: Black Tech','Interview: Scholar'],inProgress:['Video essay'],ready:[],published:['Op‑ed']},
  mtih:{ideas:['Tool review video','Essay: Creative Burnout'],inProgress:[],ready:['Podcast episode'],published:['Newsletter: April']},
  sss:{ideas:['Shade range critique'],inProgress:[],ready:[],published:[]},
  tok:{ideas:['Lookbook concept'],inProgress:[],ready:[],published:[]},
  bwitw:{planning:['Spring Hike'],upcoming:['June Mixer'],marketing:['IG Carousel'],completed:['January Brunch']},
  indigo:{planning:['Select panelists'],upcoming:[],marketing:[],completed:[]}
};
var EVENT_BRANDS=['bwitw','indigo'];
var EDIT_STAGES=['ideas','inProgress','ready','published'];
var EVENT_STAGES=['planning','upcoming','marketing','completed'];
var brandOrder=BRANDS.map(function(b){return b.id;});
// ---------- build UI ----------
function buildNav(){var nav=qs('#nav');nav.innerHTML='';['overview'].concat(brandOrder).forEach(function(id){var b=(id==='overview')?{name:'Overview',id:'overview'}:BRANDS.filter(function(br){return br.id===id;})[0];var btn=el('button','nav-btn',b.name);btn.dataset.id=id;btn.onclick=function(){show(id);};nav.appendChild(btn);});}
function buildOverview(){var grid=qs('#overview');grid.innerHTML='';BRANDS.forEach(function(b){var c=el('div','card');c.onclick=function(){show(b.id);};c.style.borderColor=b.accent;c.appendChild(el('span','badge '+b.status,b.status));c.appendChild(el('div','brand',b.name));c.appendChild(el('div','desc',b.desc));var mrow=el('div','metrics');if(EVENT_BRANDS.indexOf(b.id)===-1){mrow.appendChild(metricBox(fmt(b.reach),'Reach'));mrow.appendChild(metricBox('$'+fmt(b.revenue),'Revenue'));mrow.appendChild(metricBox(b.engage+'%','Engage'));}else{mrow.appendChild(metricBox(b.events,'Events'));mrow.appendChild(metricBox(b.community,'Community'));}
c.appendChild(mrow);grid.appendChild(c);});}
function metricBox(val,lbl){var box=el('div','mbox');box.appendChild(el('div','mval',val));box.appendChild(el('div','mlbl',lbl));return box;}
function buildViews(){var wrap=qs('#views');wrap.innerHTML='';BRANDS.forEach(function(b){var v=el('div','view');v.id='view-'+b.id;
  // header
  var head=el('div','p-head');head.appendChild(el('h2',null,b.name));var addBtn=el('button','add',(EVENT_BRANDS.indexOf(b.id)===-1)?'+ Add Content':'+ Add Event');addBtn.style.background=b.accent;addBtn.onclick=function(){addItem(b.id);};head.appendChild(addBtn);v.appendChild(head);
  // brand metric boxes
  var bm=el('div','brand-metrics');if(EVENT_BRANDS.indexOf(b.id)===-1){bm.appendChild(brandBox(fmt(b.reach),'Reach'));bm.appendChild(brandBox('$'+fmt(b.revenue),'Revenue'));bm.appendChild(brandBox(b.engage+'%','Engage'));}else{bm.appendChild(brandBox(b.events,'Events'));bm.appendChild(brandBox(b.community,'Community'));}
  v.appendChild(bm);
  // pipeline columns
  var pipe=el('div','pipeline');var stages=(EVENT_BRANDS.indexOf(b.id)===-1)?EDIT_STAGES:EVENT_STAGES;stages.forEach(function(stage){var col=el('div','col');col.dataset.brand=b.id;col.dataset.stage=stage;var chead=el('div','c-head');chead.appendChild(el('span',null,stage.replace(/([A-Z])/g,' $1').replace(/^./,function(ch){return ch.toUpperCase();})));var count=el('span','c-count','0');chead.appendChild(count);col.appendChild(chead);var list=el('div','list');(PIPELINES[b.id][stage]||[]).forEach(function(it){list.appendChild(itemElem(it));});col.appendChild(list);pipe.appendChild(col);
    Sortable.create(list,{group:b.id,Animation:150,onAdd:updateAll,onUpdate:updateAll});});v.appendChild(pipe);
  wrap.appendChild(v);} );}
function brandBox(val,lbl){var b=el('div','brand-mbox');b.appendChild(el('div','brand-mval',val));b.appendChild(el('div','brand-mlabel',lbl));return b;}
function itemElem(txt){var it=el('div','item');var span=el('span',null,txt);it.appendChild(span);return it;}
// ---------- interactions ----------
function show(id){['overview'].concat(brandOrder).forEach(function(bid){qs('.nav-btn[data-id="'+bid+'"]').classList[bid===id?'add':'remove']('active');});qs('#overview').style.display=(id==='overview')?'grid':'none';
  Array.prototype.forEach.call(qs('#views').children,function(v){v.classList.remove('active');});if(id!=='overview'){qs('#view-'+id).classList.add('active');}
  updateAll();}
function addItem(bid){var txt=prompt('Enter title');if(!txt){return;}var stage=(EVENT_BRANDS.indexOf(bid)===-1)?'ideas':'planning';var list=qs('.col[data-brand="'+bid+'"][data-stage="'+stage+'"] .list');list.appendChild(itemElem(txt+(EVENT_BRANDS.indexOf(bid)!==-1?' ('+todayISO()+')':'')));updateAll();}
function updateCounts(){Array.prototype.forEach.call(document.querySelectorAll('.col'),function(col){var cnt=col.querySelectorAll('.item').length;var badge=col.querySelector('.c-count');if(badge){badge.textContent=cnt;}});} 
function updateTotals(){var totalItems=0,totalReach=0,totalRevenue=0,totalEvents=0;BRANDS.forEach(function(b){var stages=(EVENT_BRANDS.indexOf(b.id)===-1)?EDIT_STAGES:EVENT_STAGES;stages.forEach(function(s){totalItems+=qs('.col[data-brand="'+b.id+'"][data-stage="'+s+'"] .item')?qs('.col[data-brand="'+b.id+'"][data-stage="'+s+'"] .item').parentNode.children.length:0;});if(EVENT_BRANDS.indexOf(b.id)===-1){totalReach+=b.reach;totalRevenue+=b.revenue;}else{totalEvents+=b.events;}});
  var totals=qs('#totals');totals.innerHTML='';totals.appendChild(totalBox(totalItems,'Pipeline Items'));totals.appendChild(totalBox(fmt(totalReach),'Total Reach'));totals.appendChild(totalBox('$'+fmt(totalRevenue),'Total Revenue'));totals.appendChild(totalBox(totalEvents,'Total Events'));}
function totalBox(val,lbl){var t=el('div','tot');t.appendChild(el('div','tot-val',val));t.appendChild(el('div','tot-lbl',lbl));return t;}
function updateAll(){updateCounts();updateTotals();}
// ---------- boot ----------
buildNav();buildOverview();buildViews();show('overview');})();</script>
</body>
</html>
